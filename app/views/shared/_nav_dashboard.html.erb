<nav class="flex items-center justify-between bg-[#1f202d] border-b-2 border-[#bd93f9] p-4 text-white shadow-md">

  <!-- 🧠 App Name -->
  <div class="text-xl font-bold">
    <%= link_to "GG T4", root_path, class: "hover:text-purple-400 transition" %>
  </div>

  <!-- 🔍 User Search -->
  <div class="w-1/2 px-4 relative" data-controller="user-search">
  <input type="text"
         name="query"
         placeholder="Search users..."
         data-user-search-target="input"
         data-action="input->user-search#search"
         class="w-full px-4 py-2 rounded-md bg-[#282a36] text-white placeholder-[#6272a4] focus:outline-none focus:ring-2 focus:ring-[#bd93f9] text-sm" />

  <div id="search-results"
       class="absolute z-50 top-full mt-2 w-full bg-[#1e1f29] text-white rounded-lg shadow-xl border border-[#44475a] hidden">
    <!-- Results loaded here -->
  </div>
</div>



  <!-- 🧠 Turbo Frame for Live Results -->
  <turbo-frame id="search_results"
               class="absolute top-full left-0 mt-2 w-full bg-[#1e1f29] text-white rounded-md shadow-lg border border-[#44475a] z-50 overflow-hidden">
    <!-- Results will be dynamically injected here -->
  </turbo-frame>
</div>



  <!-- 👤 User Menu -->
<div>
  <% if user_signed_in? %>
    <%= turbo_frame_tag "avatar_frame" do %>
      <%= render partial: "shared/avatar_dropdown", locals: { current_user: current_user } %>
    <% end %>
  <% else %>
    <%= link_to "Login", new_user_session_path, class: "mr-4 hover:text-purple-400 transition" %>
    <%= link_to "Sign Up", new_user_registration_path, class: "hover:text-purple-400 transition" %>
  <% end %>
</div>
</nav>
