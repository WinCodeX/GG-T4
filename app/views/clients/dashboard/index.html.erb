<!-- ğŸ§© Clients::Dashboard#index -->
<!-- app/views/layouts/dashboard.html.erb -->
<body class="bg-dracula-background text-dracula-foreground">



  <!-- ğŸ”’ Fixed Sidebar -->
  <%= render "shared/sidebar" %>

  <!-- ğŸ“œ Main Dashboard Section -->
  <main class="ml-64 mt-16 h-[calc(100vh-4rem)] overflow-hidden">
    <div class="flex h-full">

      <% case controller_name %>
      <% when 'chat_rooms' %>
        <!-- ğŸ“‹ Chat List (Left Panel) -->
        <aside class="w-1/3 bg-[#1e1f2b] border-r border-dracula-purple overflow-y-auto p-4">
          <%= render "layouts/chat_list" %>
        </aside>

        <!-- ğŸ’¬ Chat Panel (Right Panel) -->
        <section class="flex-1 overflow-y-auto p-6">
          <%= yield %> <!-- ChatRoom#show renders here -->
        </section>

      <% when 'trackings' %>
        <!-- ğŸšš Tracking Page Content -->
        <section class="flex-1 overflow-y-auto p-6">
          <h1 class="text-3xl font-bold mb-4">Track Your Package</h1>
          <%= render 'trackings/index' %>
        </section>

      <% when 'promotions' %>
        <!-- ğŸ“¢ For You Page (Promotions) -->
        <section class="flex-1 overflow-y-auto p-6">
          <h1 class="text-3xl font-bold mb-4">For You</h1>
          <%= render 'promotions/index' %>
        </section>

      <% else %>
        <!-- ğŸ“¦ Default Dashboard Panel -->
        <section class="flex-1 overflow-y-auto p-6">
          <div class="flex flex-col items-center justify-start flex-grow pt-12">
            <h1 class="text-4xl font-bold mb-4">Start sending</h1>
            <p class="text-lg mb-8 text-dracula-comment">Manage and create new packages below.</p>

            <button 
              onclick="document.getElementById('create-package-modal').classList.remove('hidden')" 
              data-agents="<%= Agent.select(:id, :name).to_json %>"
              data-locations="<%= Location.select(:id, :name).to_json %>"
              data-couriers="<%= CourierService.select(:id, :name).to_json %>"
              class="px-6 py-3 bg-[#6b46c1] text-white rounded-xl hover:bg-[#9f7aea]">
              Create New Package
            </button>

            <%= render 'packages/create_modal' %>
          </div>
        </section>
      <% end %>

    </div>
  </main>

</body>
